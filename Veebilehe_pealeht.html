<!DOCTYPE html>
<html lang="et">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veebileht</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="ühine_css.css"> 
</head>  
<body>
    
    <div class="Main">
    

            
        <div class="header">
            <h1>Veebilehe rühmatöö</h1>
            <h2>Sissejuhatus Erialasse (LTAT.03.002) </h2>
        </div>        
        
        <div class="Sissejuhatus">
        <p>Tere!</p>
        <p>Oled jõudnud meeksonna Lapik veebilehele.</p> 
        <p>Antud veebileht on valmimas/valminud TÜ Informaatika bakalaureuse õppekava aine Sissejuhatus
           erialasse (LTAT.03.002) veebilehe rühmatöö raames. </p>
         
        
        </div>
        <div class="Algus">
            <div class="Algustekst">
            <p>
            Tere! Tore teid siin näha!<br>
            Meie oleme meeskond Lapik: Joonatan, Karl ja Tristan.<br>
            Me oleme kõik TÜ Informaatika õppekava 1. kursuse tudengid.
            Kuna kokku saades meil alguses paremaid ideid polnud, siis otsustasime veebilehe teha meist endist, kus me endast natuke räägime ja teie saate meid tundma õppida. 
            Veebilehe pealehel on meist koos juttu ja ülikoolist, koos ühe pisikese mänguga.
            Vahelehtedel on igaüks endast lähemalt kirjutanud.<br>
             <br>
            Veebileht on esimene kogemus html’i ja css’iga, niiet olge mõistvad ja normid.<br>
            Tänud, päiksest!<br>
            </p>
            </div>
            <div class="Alguspilt">
                <img src="kriipsujukud.jpg" alt="Koostöö viib edasi" class="Alguspilt">  <!--https://www.w3schools.com/html/html_images.asp-->            
            </div>
        </div>

        <div class="Suunamine">
            <div class="Suunaminetekst">
            <p>
                Klikkides nimel, jõuad selle inimese isiklikule vahelehele. <br>
            </p>
            </div>
        
        <div class="Joonatan">
            <a href="joonatan.html" target="_blank">
            <h1> Joonatan</h1>
            </a>
        </div>
        <div class="Karl">
            <a href="karl.html" target="_blank">
            <h1>Karl</h1>
            </a>
        </div>
        <div class="Tristan">
            <a href="tristan.html" target="_blank">
            <h1>Tristan</h1>
            </a>
        </div>

        </div>
        <div class="Mäng">
            <p>Kui oled meie vahelehed läbi käinud, siis võid proovida mängida meist mängu.</p>
        </div>
        <!--Genereeritud Google Geminiga -->
        <div class="game-container">
        <h2>2 Tõde ja 1 Vale</h2>
        <p id="round-counter">Ring: 1 / 5</p>
        <p class="instruction">Vali kolme väite hulgast see, mis on vale, lihtne.</p>
        
        <div class="choices">
            <button class="choice-btn" disabled>Laeb...</button>
        </div>
        
        <p id="feedback" class="hidden-feedback"></p>
        <button id="next-round-btn" class="hidden-feedback">Järgmine ring</button>
    </div>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // 1. Mängu andmestruktuur (siia lisage oma väited)
        const gameRounds = [
            {
                statements: [
                    { text: "Rühmas Karl on kõige vanem", isLie: false },
                    { text: "Rühmas Joonatan on  vanuselt keskmine.", isLie: false },
                    { text: "Rühmas Tristan on kõige vanem.", isLie: true } // VALE!
                ]
            },
            {
                statements: [
                    { text: "Karl on varem mänginud klaverit.", isLie: false },
                    { text: "Joonatan on varem õppinud klarnetit.", isLie: false },
                    { text: "Tristan on varem õppinud trumme.", isLie: true } // VALE!
                ]
            },
            {
                statements: [
                    { text: "Karlile meeldib joosksmas käia.", isLie: false }, 
                    { text: "Joonatanile meeldib poksida.", isLie: true }, // VALE!
                    { text: "Tristanile meeldib ratast sõita.", isLie: false } 
                ]
            },
            {
                statements: [
                    { text: "Karl lõpetas gümnaasiumi 2023.", isLie: true }, // VALE!
                    { text: "Joonatan lõpetas gümnaasiumi 2024.", isLie: false },
                    { text: "Tristan lõpetas gümnaasiumi 2025.", isLie: false } 
                ]
            },
            {
                statements: [
                    { text: "Karl on pärit Põlvamaalt.", isLie: true }, // VALE!
                    { text: "Joonatan on pärit Pärnumaalt.", isLie: false },
                    { text: "Tristan on pärit Harjumaalt.", isLie: false } 
                ]
            }
        ];

        let currentRoundIndex = 0; // Jälgime praegust ringi
        const totalRounds = gameRounds.length;

        // Elementide viited
        const choicesDiv = document.querySelector('.choices');
        const feedback = document.getElementById('feedback');
        const nextRoundBtn = document.getElementById('next-round-btn');
        const roundCounter = document.getElementById('round-counter');


        // 2. Funktsioon uue ringi laadimiseks
        function loadNewRound() {
            if (currentRoundIndex >= totalRounds) {
                // Mäng läbi: näita tulemusi
                feedback.textContent = 'Mäng on läbi! Läbisid kõik ' + totalRounds + ' ringi edukalt.';
                feedback.className = 'correct';
                choicesDiv.innerHTML = ''; // Eemalda nupud
                nextRoundBtn.textContent = 'Alusta uuesti';
                nextRoundBtn.classList.remove('hidden-feedback');
                nextRoundBtn.removeEventListener('click', loadNext);
                nextRoundBtn.addEventListener('click', restartGame);
                return;
            }

            const currentRound = gameRounds[currentRoundIndex];
            
            // Värskenda ringi loendurit
            roundCounter.textContent = 'Ring: ' + (currentRoundIndex + 1) + ' / ' + totalRounds;

            // Puhasta ja loo uued nupud
            choicesDiv.innerHTML = ''; 
            currentRound.statements.forEach(statement => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                button.textContent = statement.text;
                button.dataset.isLie = statement.isLie; // Oluline, hoiab tõe/valet
                button.addEventListener('click', handleChoice);
                choicesDiv.appendChild(button);
            });

            // Peida tagasiside nupud ja tekst
            feedback.classList.add('hidden-feedback');
            nextRoundBtn.classList.add('hidden-feedback');
        }


        // 3. Funktsioon nupu klõpsamisel
        function handleChoice(event) {
            const buttons = document.querySelectorAll('.choice-btn');
            // Keela kõik nupud
            buttons.forEach(btn => btn.disabled = true);

            const chosenBtn = event.currentTarget;
            const isLie = chosenBtn.dataset.isLie === 'true';

            // Kuva tagasiside ja "Järgmine ring" nupp
            feedback.classList.remove('hidden-feedback');
            nextRoundBtn.classList.remove('hidden-feedback');
            nextRoundBtn.textContent = 'Järgmine ring';

            if (isLie) {
                feedback.textContent = 'Õige! See oli vale väide. Jätkame!';
                feedback.className = 'correct';
                chosenBtn.style.backgroundColor = 'green';
            } else {
                feedback.textContent = 'Vale! See oli tõene väide. Vale oli...';
                feedback.className = 'incorrect';
                chosenBtn.style.backgroundColor = 'red';
                
                // Tuvasta ja värvi õige vastus (vale väide) roheliseks
                buttons.forEach(btn => {
                    if (btn.dataset.isLie === 'true') {
                        feedback.textContent += ` "${btn.textContent}".`;
                        btn.style.backgroundColor = 'darkgreen';
                    }
                });
            }
        }
        
        // 4. Funktsioon järgmise ringi juurde liikumiseks
        function loadNext() {
            currentRoundIndex++;
            loadNewRound();
        }
        
        // 5. Funktsioon mängu täielikuks taaskäivitamiseks (pärast lõppu)
        function restartGame() {
            currentRoundIndex = 0;
            nextRoundBtn.removeEventListener('click', restartGame);
            nextRoundBtn.addEventListener('click', loadNext);
            loadNewRound();
        }


        // Alglaadimine:
        loadNewRound();
        nextRoundBtn.addEventListener('click', loadNext);
    });
    </script>
    </div>

</body>  
